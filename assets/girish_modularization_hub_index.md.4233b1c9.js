import{_ as t,C as p,o as i,c as r,k as s,a,H as l,w as o,Q as n}from"./chunks/framework.6730c137.js";const c="/assets/hub-1.bf07087d.png",A=JSON.parse('{"title":"Hub-like Dependencies","description":"","frontmatter":{},"headers":[],"relativePath":"girish/modularization/hub/index.md","filePath":"girish/modularization/hub/index.md"}'),d={name:"girish/modularization/hub/index.md"},y=s("h1",{id:"hub-like-dependencies",tabindex:"-1"},[a("Hub-like Dependencies "),s("a",{class:"header-anchor",href:"#hub-like-dependencies","aria-label":'Permalink to "Hub-like Dependencies"'},"​")],-1),u=s("div",{class:"video-wrapper"},[s("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/ImUM8T-1fy4",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""})],-1),E=n('<p><img src="'+c+'" alt="Inner and outer dependencies of a class" title="Inner and outer dependencies of a class"></p><p>Smell ini terjadi ketika sebuah abstraksi mempunyai banyak dependensi masukan (fan-in) dan/atau abstraksi tersebut bergantung banyak pada abstraksi lain (fan-out). Smell ini sering kali memiliki kombinasi dengan smell lain seperti Large Class/Insufficient Modularization, Divergent Changes, dan Broken Modularization. Smell ini tentunya melanggar Single Responsibility Principle (SRP) karena banyaknya tanggungjawab yang dibebani olehnya.</p><h2 id="penyebab" tabindex="-1">Penyebab <a class="header-anchor" href="#penyebab" aria-label="Permalink to &quot;Penyebab&quot;">​</a></h2><ul><li><strong>Improper responsibility assignment (to hub class)</strong>: Dikarenakan abstraksi tersebut banyaknya tanggungjawab dan kadangkala harus berkomunikasi dengan class lain.</li><li><strong>“Dump-all” utility classes</strong>: Developer membuat sebuah class <em>Helper</em> agar class lain dapat memanfaatkan utility yang diperlukan dari <em>Helper</em> class tersebut.</li></ul><h2 id="contoh" tabindex="-1">Contoh <a class="header-anchor" href="#contoh" aria-label="Permalink to &quot;Contoh&quot;">​</a></h2><h2 id="kasus-class-java-awt-font-dan-java-util-component" tabindex="-1">Kasus class <code>java.awt.Font</code> dan <code>java.util.Component</code> <a class="header-anchor" href="#kasus-class-java-awt-font-dan-java-util-component" aria-label="Permalink to &quot;Kasus class `java.awt.Font` dan `java.util.Component`&quot;">​</a></h2><p>Pada buku ini, disebutkan bahwa Girish menyinggung 2 class besar yang mempunyai smell ini, yaitu class <code>java.awt.Font</code> dan <code>java.util.Component</code>.</p><p>Pada kasus smell class <code>java.awt.Font</code>, class ini merupakan class yang merepresentasikan font dan fungsionalitas untuk render text sebagai kumpulan abjad/karakter pada object <code>Graphic</code> dan <code>Component</code>. Smell ini terjadi karena terhitung ada 19 incoming dependencies (fan-in) dan 34 outgoing dependencies (fan-out). Tentunya jumlah dependensi dalam class ini terbilang cukup banyak karena adanya text drawing dalam komponen-komponen di Java.</p><p>Pada kasus smell class <code>java.util.Component</code>, class ini berisikan konsep object grafis yang dapat ditampilkan pada layar, baik sebagai button, panel, dan scroll bar. Secara definitif, class ini merupakan fondasi penting dalam pengembangan user interface dalam bahasa pemrograman Java. Smell ini terjadi karena terhitung ada 498 incoming dependencies (fan-in termasuk <code>java.awt.Font</code>) dan 71 outgoing dependencies (fan-out).</p><p>Kedua class besar ini juga belum dihitung jumlah dependensi secara implisit (method implementasi dalam class), dan tentunya memperbludak class management karena banyaknya dependensi yang harus diurus oleh class tersebut.</p><h2 id="kasus-utility-class" tabindex="-1">Kasus utility class <a class="header-anchor" href="#kasus-utility-class" aria-label="Permalink to &quot;Kasus utility class&quot;">​</a></h2>',11),b=n(`<div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Utilities</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">boolean</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">validateEmail</span><span style="color:#E1E4E8;">(String </span><span style="color:#FFAB70;">email</span><span style="color:#E1E4E8;">) { ... }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">boolean</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">validatePhoneNumber</span><span style="color:#E1E4E8;">(String </span><span style="color:#FFAB70;">phoneNumber</span><span style="color:#E1E4E8;">) { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//... other validation methods</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> String </span><span style="color:#B392F0;">toTitleCase</span><span style="color:#E1E4E8;">(String </span><span style="color:#FFAB70;">s</span><span style="color:#E1E4E8;">) { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//... other string manipulation methods</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Utilities</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">validateEmail</span><span style="color:#24292E;">(String </span><span style="color:#E36209;">email</span><span style="color:#24292E;">) { ... }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">validatePhoneNumber</span><span style="color:#24292E;">(String </span><span style="color:#E36209;">phoneNumber</span><span style="color:#24292E;">) { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">//... other validation methods</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> String </span><span style="color:#6F42C1;">toTitleCase</span><span style="color:#24292E;">(String </span><span style="color:#E36209;">s</span><span style="color:#24292E;">) { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">//... other string manipulation methods</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>Ternyata class tersebut tidak hanya bertanggungjawab atas validasi, namun juga pada manipulasi teks dan fitur-fitur pembantu lainnya sehingga menimbulkan smell hub-like modularization dan Large Class karena adanya pemakaian oleh beberapa class lainnya.</p><h2 id="penyelesaian" tabindex="-1">Penyelesaian <a class="header-anchor" href="#penyelesaian" aria-label="Permalink to &quot;Penyelesaian&quot;">​</a></h2><ul><li>Jika class tersebut mempunyai tanggungjawab yang banyak, disarankan untuk memecahkan menjadi beberapa class dengan <a href="https://refactoring.guru/extract-class" target="_blank" rel="noreferrer">Extract Class</a>.</li><li>Jika dependensi class disebabkan karena salah tempat, pindahkan member tersebut ke class yang bersangkutan.</li><li>Gunakan design pattern yang tepat untuk mengurangi jumlah dependensi class, salah satunya adalah <a href="https://refactoring.guru/design-patterns/chain-of-responsibility" target="_blank" rel="noreferrer">Chain of Responsibility</a> dimana class tersebut berfungsi untuk melakukan pemanggilan berantai antar class atau alternatifnya, menggunakan design pattern <a href="https://refactoring.guru/design-patterns/observer" target="_blank" rel="noreferrer">Observer</a> dimana class tersebut berfungsi untuk melakukan panggilan kepada class yang diaggregatnya.</li></ul><h2 id="penyelesaian-pada-kasus-java-awt-font" tabindex="-1">Penyelesaian pada kasus <code>java.awt.Font</code> <a class="header-anchor" href="#penyelesaian-pada-kasus-java-awt-font" aria-label="Permalink to &quot;Penyelesaian pada kasus \`java.awt.Font\`&quot;">​</a></h2><p>Salah satu sugesti dari Girish adalah dengan memindahkan class, dikarenakan adanya beberapa class yang mempunyai member (baik method dan attribute) yang dapat tempatkan pada class yang seharusnya, salah satunya adalah method <code>createGlyphVector()</code> yang mempunyai smell Feature Envy dimana method ini berfungsi hanya untuk mengakses class <code>GlyphVector</code> dan membuat object dari class tersebut.</p><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> GlyphVector </span><span style="color:#B392F0;">createGlyphVector</span><span style="color:#E1E4E8;">(FontRenderContext frc. CharacterIterator ci) {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">return</span><span style="color:#E1E4E8;"> (GlyphVector) </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">StandardGlyphVector</span><span style="color:#E1E4E8;">(</span><span style="color:#79B8FF;">this</span><span style="color:#E1E4E8;">, ci, frc);</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> GlyphVector </span><span style="color:#6F42C1;">createGlyphVector</span><span style="color:#24292E;">(FontRenderContext frc. CharacterIterator ci) {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">return</span><span style="color:#24292E;"> (GlyphVector) </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">StandardGlyphVector</span><span style="color:#24292E;">(</span><span style="color:#005CC5;">this</span><span style="color:#24292E;">, ci, frc);</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div><p>Salah satu saran refactoring adalah dengan memindahkannya ke class <code>GlyphVector</code> sehingga class yang bergantung pada method tersebut dapat mengakses langsung pada class <code>GlyphVector</code>.</p><h2 id="penyelesaian-pada-kasus-utility-class" tabindex="-1">Penyelesaian pada kasus utility class <a class="header-anchor" href="#penyelesaian-pada-kasus-utility-class" aria-label="Permalink to &quot;Penyelesaian pada kasus utility class&quot;">​</a></h2><div class="language-java vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Utilities</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> String </span><span style="color:#B392F0;">toTitleCase</span><span style="color:#E1E4E8;">(String </span><span style="color:#FFAB70;">s</span><span style="color:#E1E4E8;">) { ... }</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">boolean</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">validatePhoneNumber</span><span style="color:#E1E4E8;">(String </span><span style="color:#FFAB70;">phoneNumber</span><span style="color:#E1E4E8;">) { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//... other string manipulation methods</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">class</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Validation</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#F97583;">public</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">static</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">boolean</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">validateEmail</span><span style="color:#E1E4E8;">(String </span><span style="color:#FFAB70;">email</span><span style="color:#E1E4E8;">) { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">  </span><span style="color:#6A737D;">//... other validation methods</span></span>
<span class="line"><span style="color:#E1E4E8;">}</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Utilities</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> String </span><span style="color:#6F42C1;">toTitleCase</span><span style="color:#24292E;">(String </span><span style="color:#E36209;">s</span><span style="color:#24292E;">) { ... }</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">validatePhoneNumber</span><span style="color:#24292E;">(String </span><span style="color:#E36209;">phoneNumber</span><span style="color:#24292E;">) { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">//... other string manipulation methods</span></span>
<span class="line"><span style="color:#24292E;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">class</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Validation</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#D73A49;">public</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">static</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">boolean</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">validateEmail</span><span style="color:#24292E;">(String </span><span style="color:#E36209;">email</span><span style="color:#24292E;">) { ... }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">  </span><span style="color:#6A737D;">//... other validation methods</span></span>
<span class="line"><span style="color:#24292E;">}</span></span></code></pre></div>`,10),h=s("code",null,"Utility",-1),g=n('<h2 id="julukan" tabindex="-1">Julukan <a class="header-anchor" href="#julukan" aria-label="Permalink to &quot;Julukan&quot;">​</a></h2><ul><li><strong>Bottlenecks</strong>: Ada class yang banyak dipakai kepada class lain.</li><li><strong>Local hubs</strong>: Sebuah abstraksi punya banyak dependensi dan dipakai oleh banyak class.</li><li><strong>Man-in-the-middle</strong>: Terdapat central class dalam hierarki abstraksi yang sering dimanfaatkan sebagai mediator oleh class lain.</li></ul><h2 id="when-to-ignore" tabindex="-1">When to Ignore <a class="header-anchor" href="#when-to-ignore" aria-label="Permalink to &quot;When to Ignore&quot;">​</a></h2><p>Pada kasus-kasus aplikasi berskala besar, terkadang ada beberapa <em>core abstractions</em> dimana class tersebut berperan penting dalam aplikasi. Salah satu contoh class bertipekan core abstraction adalah <code>java.lang.Class</code> dimana class ini menjadi pusat abstraksi di JDK dimana class ini dipakai oleh &gt;1000 class dan bergantung pada 40 class. Meski class ini dapat dicap mempunyai smell Hub-like Modularization smell, namun kasus ini sangat tidak memungkinkan untuk dibatasi jumlahnya karena fungsionalitas yang sangat penting bagi class lain.</p>',4);function m(k,v,f,F,_,j){const e=p("github-url");return i(),r("div",null,[y,u,E,s("p",null,[a("Diketahui sebuah class bernama "),l(e,{to:"before/Utility.java"},{default:o(()=>[a("Utility.java")]),_:1}),a(" dimana pada class tersebut berisikan berbagai macam jenis utility yang dapat dipergunakan oleh class lain.")]),b,s("p",null,[a("Class "),h,a(" memegang tanggung jawab lebih dari 1 yaitu validasi dan string manipulation, oleh karenanya diperlukan extract class ke class baru bernama "),l(e,{to:"after/Utility.java"},{default:o(()=>[a("Validation.java](after/Validation.java) untuk keperluan sehingga pada class [Utility.java")]),_:1}),a(" cukup dipakai untuk keperluan string manipulation.")]),g])}const D=t(d,[["render",m]]);export{A as __pageData,D as default};
